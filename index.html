<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<html>
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge">

        <title>Blob</title>

        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="Blob" />
        <meta name="keywords" content="text length, online generator" />
        <meta name="author" content="CKDT" />

        <link rel="stylesheet" type='text/css' href="css/normalize.css">
        <link href='http://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" type='text/css' href="css/style.css">

        <script src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.2/modernizr.min.js"></script>
    </head>
    <body>
        <header>
            <hgroup>
                <h1 id="logo"><img src="img/logo.svg" width="600" height="210" alt="dracula.io, count text length" /></h1>
                <h2>Count your text length to get the ideal length for everything online.</h2>
            </hgroup>
        </header>

        <section id="intro">
            <p> Inspired by the <em><a href="https://blog.bufferapp.com/the-ideal-length-of-everything-online-according-to-science" target="_blank">ideal length for everything online</a></em> blog post. We created <a href="http://dracula.io" target="_top">dracula.io</a>.The count will count your words and let's you know if you have the optimal character count (backed by research). Simply select the type of content you are writing and fill in the blanks.</p>
        </section>

        <section id="optimizer">
            <header>
                <select id="optimize-type">
                    <option value="" disabled selected>Let's optimize a...</option>
                    <option value="tweet"
                            data-type="characters"
                            data-count="100"
                            data-engagement="17%"
                            data-cols="50"
                            data-rows="3"
                            data-placeholder="Hey @you, Enter the text for your #tweet here!">Tweet</option>
                    <option value="facebook"
                            data-type="characters"
                            data-count="40"
                            data-engagement="86%"
                            data-cols="50"
                            data-rows="3"
                            data-placeholder="What's on your mind?">Facebook post</option>
                    <option value="headline"
                            data-type="words"
                            data-count="6"
                            data-engagement="%"
                            data-cols="50"
                            data-rows="2"
                            data-placeholder="Content is king.">Headline</option>
                    <option value="blog"
                            data-type="words"
                            data-count="1600"
                            data-engagement="%"
                            data-cols="50"
                            data-rows="5"
                            data-placeholder="The interesting part of your post starts here...">Blog post</option>
                    <option value="title"
                            data-type="characters"
                            data-count="55"
                            data-engagement="%"
                            data-cols="50"
                            data-rows="1"
                            data-placeholder="Your Website | The page you're looking at">Title tag</option>
                    <option value="email"
                            data-type="characters"
                            data-count="34"
                            data-engagement="%"
                            data-cols="50"
                            data-rows="1"
                            data-placeholder="Your enaging subject...">E-mail subject</option>
                    <option value="domain"
                            data-type="characters"
                            data-count="8"
                            data-engagement="%"
                            data-cols="30"
                            data-rows="1"
                            data-placeholder="website">Domain name</option>
                </select>
            </header>
            <div id="templates">

                <!-- template: TWEET -->
                <div id="tweet" class="template">
                    <div class="header">
                        <ul>
                            <li class="profile-picture"><img src="http://placekitten.com/g/32/32"></li>
                            <li class="profile-name">@blob</li>
                            <li class="date">4 Aug</li>
                        </ul>
                    </div>
                    <div class="optimize-container">
                        <!-- The optimize-form will be appended here -->
                    </div>
                    <div class="result-footer">
                        <ul>
                            <li class="result-utils"> <button class="copy-btn icon icon-clippy" data-clipboard-target="optimize-area"> Copy </button> </li>
                            <li class="result-feedback"></li>
                            <li class="result-engagement"> <div class="engagement icon icon-graph"></div></li>
                        </ul>
                    </div>
                </div>

                <!-- template: Facebook -->
                <div id="facebook" class="template">
                    <div class="header">
                        <ul>
                            <li class="profile-picture"><img src="http://placekitten.com/g/40/40"></li>
                            <li class="profile-name">blob <br> <span class="date">4 Aug</span></li>
                        </ul>
                    </div>
                    <div class="optimize-container">
                        <!-- The optimize-form will be appended here -->
                    </div>
                    <div class="result-footer">
                        <ul>
                            <li class="result-utils"> <button class="copy-btn icon icon-clippy" data-clipboard-target="optimize-area"> Copy </button> </li>
                            <li class="result-feedback"></li>
                            <li class="result-engagement"> <div class="engagement icon icon-graph"></div></li>
                        </ul>
                    </div>
                </div>

                <!-- template: E-Mail -->
                <div id="email" class="template">
                    <ul class="inline">
                        <li class="label">to: <strong>hello@blob.com</strong></li>
                        <li>
                            <div class="optimize-container">
                                <!-- The optimize-form will be appended here -->
                            </div>
                        </li>
                    </ul>
                    <div class="result-footer">
                        <ul>
                            <li class="result-utils"> <button class="copy-btn icon icon-clippy" data-clipboard-target="optimize-area"> Copy </button> </li>
                            <li class="result-feedback"></li>
                            <li class="result-engagement"> <div class="engagement icon icon-graph"></div></li>
                        </ul>
                    </div>
                </div>

                <!-- template: Domain -->
                <div id="domain" class="template">
                    <ul class="inline">
                        <li class="favicon"><img src="http://placekitten.com/g/60/60"></li>
                        <li>http://</li>
                        <li>
                            <div class="optimize-container">
                                <!-- The optimize-form will be appended here -->
                            </div>
                        </li>
                        <li>
                            .com
                        </li>
                    </ul>
                    <div class="result-footer">
                        <ul>
                            <li class="result-utils"> <button class="copy-btn icon icon-clippy" data-clipboard-target="optimize-area"> Copy </button> </li>
                            <li class="result-feedback"></li>
                            <li class="result-engagement"> <div class="engagement icon icon-graph"></div></li>
                        </ul>
                    </div>
                </div>

                <!-- template: Title -->
                <div id="title" class="template">
                    <ul class="inline">
                        <li>&lt; title &gt;</li>
                        <li>
                            <div class="optimize-container">
                                <!-- The optimize-form will be appended here -->
                            </div>
                        </li>
                        <li>
                            &lt; &#47;title &gt;
                        </li>
                    </ul>
                    <div class="result-footer">
                        <ul>
                            <li class="result-utils"> <button class="copy-btn icon icon-clippy" data-clipboard-target="optimize-area"> Copy </button> </li>
                            <li class="result-feedback"></li>
                            <li class="result-engagement"> <div class="engagement icon icon-graph"></div></li>
                        </ul>
                    </div>
                </div>


                <!-- template: Headline -->
                <div id="headline" class="template">
                    <ul class="inline">
                        <li>
                            <div class="optimize-container">
                                <!-- The optimize-form will be appended here -->
                            </div>
                        </li>
                    </ul>
                    <div class="result-footer">
                        <ul>
                            <li class="result-utils"> <button class="copy-btn icon icon-clippy" data-clipboard-target="optimize-area"> Copy </button> </li>
                            <li class="result-feedback"></li>
                            <li class="result-engagement"> <div class="engagement icon icon-graph"></div></li>
                        </ul>
                    </div>
                </div>

                <!-- template: Blog post -->
                <div id="blog" class="template">
                    <div class="header">
                        <ul>
                            <li class="profile-name">Blob's Blog<br> <span class="date">4 Aug</span></li>
                        </ul>
                    </div>
                    <div class="optimize-container">
                        <!-- The optimize-form will be appended here -->
                    </div>
                    <div class="result-footer">
                        <ul>
                            <li class="result-utils"> <button class="copy-btn icon icon-clippy" data-clipboard-target="optimize-area"> Copy </button> </li>
                            <li class="result-feedback"></li>
                            <li class="result-engagement"> <div class="engagement icon icon-graph"></div></li>
                        </ul>
                    </div>
                </div>

            </div>

            <footer>
            </footer>

        </section>

        <footer id="footer">
            <iframe src="http://ghbtns.com/github-btn.html?user=ckdt&repo=blob&type=watch&count=true"
            allowtransparency="true" frameborder="0" scrolling="0" width="95" height="20"></iframe>
            <iframe src="http://ghbtns.com/github-btn.html?user=ckdt&repo=blob&type=fork&count=true"
            allowtransparency="true" frameborder="0" scrolling="0" width="95" height="20"></iframe>
            <iframe src="http://ghbtns.com/github-btn.html?user=ckdt&repo=blob&type=follow&count=true"
            allowtransparency="true" frameborder="0" scrolling="0" width="95" height="20"></iframe>
            <p> Feel free to improve this first attempt of a usefull tool. &hearts; <a href="http://ckdt.nl" target="_blank">CKDT</a></p>
        </footer>


        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.10.2.min.js"><\/script>')</script>
        <script src="js/jquery.simplyCountable.js"></script>
        <script src="js/ZeroClipboard.min.js"></script>

        <script>

            $(function() {

                var client = new ZeroClipboard( $(".copy-btn") );

                client.on( 'ready', function(event) {
                    client.on( 'copy', function(event) {
                    var text = document.getElementById('optimize-area').value;
                    var windowsText = text.replace(/\n/g, '\r\n');
                        event.clipboardData.setData('text/plain', windowsText);
                    });

                    client.on( 'aftercopy', function(event) {
                        console.log('Copied text to clipboard: ' + event.data['text/plain']);
                    });
                });

                client.on( 'error', function(event) {
                    ZeroClipboard.destroy();
                });

                $("select").change(function(){

                    // Retrieve Attributes
                    var $type = $(this).find(':selected').attr('data-type');
                    var $count = $(this).find(':selected').attr('data-count');
                    var $engagement = $(this).find(':selected').attr('data-engagement');
                    var $cols = $(this).find(':selected').attr('data-cols');
                    var $rows = $(this).find(':selected').attr('data-rows');
                    var $placeholder = $(this).find(':selected').attr('data-placeholder');
                    var $val = $(this).find(':selected').attr('value');

                    // Create html elements
                    var htmlform = '<textarea id="optimize-area" cols="'+$cols+'" rows="'+$rows+'" placeholder="'+$placeholder+'"></textarea>';
                        htmlfooter = '<p>Ideally, you have <span id="counter"></span> <span id="typetxt">'+$type+'</span> left.</p>';

                    var newID = '#' + $val;

                    // Reset current
                    $('.active').find('.optimize-container').empty();
                    $('.active').find('.result-feedback').empty();
                    $('.active').find('.engagement').empty();
                    $('.active').hide();
                    $('.active').removeClass('active');

                    // Create new
                    $(newID).find('.optimize-container').append(htmlform);
                    $(newID).find('.result-feedback').html(htmlfooter);
                    $(newID).find('.engagement').html($engagement);
                    $(newID).show();
                    $(newID).addClass('active');

                    // Init Counter
                    $("#optimize-area").simplyCountable({
                        counter: '#counter',
                        countType: $type,
                        maxCount: $count
                    });

                });
            });
        </script>
    </body>
</html>
